<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CN SETUP AND DEPLOY A STATIC SITE WITH VUEPRESS TO NETLIFY CMS | ITConsultis CN</title>
    <meta name="description" content="Vue 驱动的静态网站生成器">
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.afc12f1c.css" as="style"><link rel="preload" href="/assets/js/app.88e52c6f.js" as="script"><link rel="preload" href="/assets/js/3.4d62a7a5.js" as="script"><link rel="preload" href="/assets/js/1.cf387c24.js" as="script"><link rel="preload" href="/assets/js/8.0fdf80f0.js" as="script"><link rel="prefetch" href="/assets/js/10.f01d265f.js"><link rel="prefetch" href="/assets/js/11.d121e3f4.js"><link rel="prefetch" href="/assets/js/12.8cf7be99.js"><link rel="prefetch" href="/assets/js/13.7bc23967.js"><link rel="prefetch" href="/assets/js/14.6474fc9e.js"><link rel="prefetch" href="/assets/js/15.87c3fd17.js"><link rel="prefetch" href="/assets/js/16.d6ac7cc8.js"><link rel="prefetch" href="/assets/js/17.a1a1828d.js"><link rel="prefetch" href="/assets/js/18.792a56b8.js"><link rel="prefetch" href="/assets/js/19.3dc5c324.js"><link rel="prefetch" href="/assets/js/2.7135a862.js"><link rel="prefetch" href="/assets/js/20.b4acdc66.js"><link rel="prefetch" href="/assets/js/21.7309160b.js"><link rel="prefetch" href="/assets/js/22.e08ee26e.js"><link rel="prefetch" href="/assets/js/23.bfe7bba1.js"><link rel="prefetch" href="/assets/js/24.f68b7569.js"><link rel="prefetch" href="/assets/js/25.39672544.js"><link rel="prefetch" href="/assets/js/26.3a12b7a8.js"><link rel="prefetch" href="/assets/js/27.464e2920.js"><link rel="prefetch" href="/assets/js/28.1abc1484.js"><link rel="prefetch" href="/assets/js/29.0621342f.js"><link rel="prefetch" href="/assets/js/30.9da72ac5.js"><link rel="prefetch" href="/assets/js/31.7d30df6a.js"><link rel="prefetch" href="/assets/js/32.e1074173.js"><link rel="prefetch" href="/assets/js/33.17eb797d.js"><link rel="prefetch" href="/assets/js/34.7347ccc6.js"><link rel="prefetch" href="/assets/js/35.02b14aee.js"><link rel="prefetch" href="/assets/js/36.b0dd984a.js"><link rel="prefetch" href="/assets/js/37.dcec1258.js"><link rel="prefetch" href="/assets/js/38.10fc38ee.js"><link rel="prefetch" href="/assets/js/6.95817dc9.js"><link rel="prefetch" href="/assets/js/7.e92308c8.js"><link rel="prefetch" href="/assets/js/9.fa5bc363.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c6e30fff.js">
    <link rel="stylesheet" href="/assets/css/0.styles.afc12f1c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><a href="/zh/" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">ITConsultis CN</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/" class="nav-link router-link-exact-active router-link-active">主页</a></div><div class="nav-item"><a href="/zh/news.html" class="nav-link">博客</a></div><div class="nav-item"><a href="/zh/about.html" class="nav-link">关于我们</a></div><div class="nav-item"><a href="/zh/contact.html" class="nav-link">联系</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">en-US</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link router-link-exact-active router-link-active">zh-CN</a></li></ul></div></div> <div class="nav-item"><a href="/admin" target="_blank" rel="noopener noreferrer">
      Admins
    </a></div> <!----></nav></div></header> <div class="head-banner" style="position:relative;"><div class="head-banner-text"><h1>CN SETUP AND DEPLOY A STATIC SITE WITH VUEPRESS TO NETLIFY CMS</h1></div> <img src="/images/16-9-14.jpg" alt="test banner"></div> <div class="home"><div class="container"><div class="row"><div class="col-12"><div class="news-block"><h2>News</h2> <div class="posts-list"><div class="row"><div class="col col-md-4" style="margin: 15px auto"><a href="/zh/posts/collo-vultus-in-palluit-longam-natam-mortis.html"><div body-style="[object Object]" class="card post"><div class="image-wrapper"><img src="/images/16-9-16.jpg" alt="Collo vultus in palluit longam natam mortis CN" class="image"> <p span="8" class="time"><span>2018-12-21 00:00</span></p></div> <div style="padding:0 15px;"><div class="post-info"><h3>Collo vultus in palluit longam natam mortis CN</h3></div></div></div></a></div><div class="col col-md-4" style="margin: 15px auto"><a href="/zh/posts/hortaturque-praemia-fortis-munere-enim-manus-est.html"><div body-style="[object Object]" class="card post"><div class="image-wrapper"><img src="/images/16-9-19.jpg" alt="Hortaturque praemia fortis munere enim manus est CN" class="image"> <p span="8" class="time"><span>2018-12-20 00:00</span></p></div> <div style="padding:0 15px;"><div class="post-info"><h3>Hortaturque praemia fortis munere enim manus est CN</h3></div></div></div></a></div><div class="col col-md-4" style="margin: 15px auto"><a href="/zh/posts/illa-de-posset-contemne-exire-ortygie-ignotas.html"><div body-style="[object Object]" class="card post"><div class="image-wrapper"><img src="/images/16-9-17.jpg" alt="Illa de posset contemne exire Ortygie ignotas CN" class="image"> <p span="8" class="time"><span>2018-12-19 00:00</span></p></div> <div style="padding:0 15px;"><div class="post-info"><h3>Illa de posset contemne exire Ortygie ignotas CN</h3></div></div></div></a></div></div> <!----></div></div> <div class="docs-block"><h2>Documents</h2> <div class="posts-list"><div class="row"><div class="col col-md-4" style="margin: 15px auto"><a href="/zh/docs/dario-s-doc.html"><div body-style="[object Object]" class="card post"><div class="image-wrapper"><img src="https://lorempixel.com/1920/1040/cats/" alt="dario's doc" class="image"> <p span="8" class="time"><span></span></p></div> <div style="padding:0 15px;"><div class="post-info"><h3>dario's doc</h3></div></div></div></a></div><div class="col col-md-4" style="margin: 15px auto"><a href="/zh/docs/"><div body-style="[object Object]" class="card post"><div class="image-wrapper"><img src="https://lorempixel.com/1920/1040/cats/" alt="CN Sample doc" class="image"> <p span="8" class="time"><span></span></p></div> <div style="padding:0 15px;"><div class="post-info"><h3>CN Sample doc</h3></div></div></div></a></div></div> <!----></div></div> <div custom="" class="content default"><h2 id="create-your-repo-with-vuepress-cn"><a href="#create-your-repo-with-vuepress-cn" aria-hidden="true" class="header-anchor">#</a> Create your repo with Vuepress CN</h2> <p>This guides does not include the installation of <a href="https://vuepress.vuejs.org/guide/getting-started.html" target="_blank" rel="noopener noreferrer">Vuepress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, please check the installation guide of these SSG on their homepage.</p> <h2 id="clone-vuepress-netlify-boilerplate"><a href="#clone-vuepress-netlify-boilerplate" aria-hidden="true" class="header-anchor">#</a> Clone Vuepress Netlify boilerplate</h2> <p>https://gitlab.com/itconsultis/boilerplate/vuepress-boilerplate</p> <h2 id="creating-new-theme"><a href="#creating-new-theme" aria-hidden="true" class="header-anchor">#</a> Creating new theme</h2> <p>You could creating a new theme or edit current theme in <code>.vuepress/theme</code> folder with vue syntax</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vuepress dev site
</code></pre></div><p>OR</p> <div class="language-bash extra-class"><pre class="language-bash"><code>yarn dev
</code></pre></div><h2 id="prepare-cms-authorization-settings-for-admin-registration-inviation-access"><a href="#prepare-cms-authorization-settings-for-admin-registration-inviation-access" aria-hidden="true" class="header-anchor">#</a> Prepare CMS authorization settings for admin registration, inviation, access</h2> <p>In your vue main layout, you have to add this line of script tag to your homepage.
This js file will be responsible for authorization on homepage.
With VueJS you could include it in the Layout file as <code>Layout.vue</code> is the entry point of whole app</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-netlify-identity-menu</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-netlify-identity-button</span><span class="token punctuation">&gt;</span></span>Login with Netlify Identity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://identity.netlify.com/v1/netlify-identity-widget.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="admin"><a href="#admin" aria-hidden="true" class="header-anchor">#</a> ADMIN</h3> <p>The <code>config.yml</code> file should have format similar to this one, collections is a the presentation of your content types. Eg: Post, project, testimonial, ...</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">backend</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> git<span class="token punctuation">-</span>gateway <span class="token comment"># Login by gitlab account. For netlify to know how to let user login to their CMS.</span>
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> thucxuong/vuepress<span class="token punctuation">-</span>test <span class="token comment"># Site repo</span>
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> master <span class="token comment"># Deploy branch</span>
<span class="token key atrule">media_folder</span><span class="token punctuation">:</span> &quot;site/.vuepress/public/images&quot; <span class="token comment"># Media folder where you upload images</span>
<span class="token key atrule">public_folder</span><span class="token punctuation">:</span> &quot;site/.vuepress/dist/&quot; <span class="token comment"># Folder where your whole site will live in</span>
<span class="token comment">## In our collection, I present 2 collection as examples for you to have better understanding</span>
<span class="token key atrule">collections</span><span class="token punctuation">:</span> <span class="token comment"># collection is the building-block of netlify, you could see it as content type</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> &quot;doc&quot; <span class="token comment"># Used in routes, e.g., /admin/collections/blog</span>
    <span class="token key atrule">label</span><span class="token punctuation">:</span> &quot;Doc&quot; <span class="token comment"># Used in the UI</span>
    <span class="token key atrule">folder</span><span class="token punctuation">:</span> &quot;site/docs&quot; <span class="token comment"># The path to the folder where the documents are stored (inside dist)</span>
    <span class="token key atrule">create</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment"># Allow users to create new documents in this collection</span>
    <span class="token key atrule">slug</span><span class="token punctuation">:</span> &quot;<span class="token punctuation">{</span><span class="token punctuation">{</span>slug<span class="token punctuation">}</span><span class="token punctuation">}</span>&quot; <span class="token comment"># Filename template, e.g., YYYY-MM-DD-title.md</span>
    <span class="token key atrule">fields</span><span class="token punctuation">:</span> <span class="token comment"># The fields for each document, usually in front matter</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Title&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Category&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Permalink&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;permalink&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Body&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;body&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;markdown&quot;</span><span class="token punctuation">}</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> &quot;post&quot; <span class="token comment"># Used in routes, e.g., /admin/collections/blog</span>
    <span class="token key atrule">label</span><span class="token punctuation">:</span> &quot;Post&quot; <span class="token comment"># Used in the UI</span>
    <span class="token key atrule">folder</span><span class="token punctuation">:</span> &quot;site/posts&quot; <span class="token comment"># The path to the folder where the documents are stored (inside dist)</span>
    <span class="token key atrule">create</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment"># Allow users to create new documents in this collection</span>
    <span class="token key atrule">slug</span><span class="token punctuation">:</span> &quot;<span class="token punctuation">{</span><span class="token punctuation">{</span>slug<span class="token punctuation">}</span><span class="token punctuation">}</span>&quot; <span class="token comment"># Filename template, e.g., YYYY-MM-DD-title.md</span>
    <span class="token key atrule">fields</span><span class="token punctuation">:</span> <span class="token comment"># The fields for each document, usually in front matter</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Title&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Category&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;category&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Permalink&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;permalink&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">&quot;Body&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;body&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">&quot;markdown&quot;</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="create-a-site-on-netlify"><a href="#create-a-site-on-netlify" aria-hidden="true" class="header-anchor">#</a> Create a site on Netlify</h2> <h3 id="step-1-create-your-new-site"><a href="#step-1-create-your-new-site" aria-hidden="true" class="header-anchor">#</a> Step 1: Create your new site</h3> <p><img src="/assets/img/new-site.9b1e90cd.png" alt="Create new site"></p> <h3 id="step-2-connect-to-your-git"><a href="#step-2-connect-to-your-git" aria-hidden="true" class="header-anchor">#</a> Step 2: Connect to your git</h3> <p><img src="/assets/img/connect-git.7340b77a.png" alt="Connect Git"></p> <h3 id="step-3-choose-the-repo-with-ssg"><a href="#step-3-choose-the-repo-with-ssg" aria-hidden="true" class="header-anchor">#</a> Step 3: Choose the repo with SSG</h3> <p><img src="/assets/img/choose-repo.b0569587.png" alt="Choose repo"></p> <h3 id="step-4-choose-brand-and-build-config"><a href="#step-4-choose-brand-and-build-config" aria-hidden="true" class="header-anchor">#</a> Step 4: Choose brand and build config</h3> <p><img src="/assets/img/choose-branch-and-config.ab133a17.png" alt="Choose branch and config"></p> <h3 id="step-5-enable-git-gateway"><a href="#step-5-enable-git-gateway" aria-hidden="true" class="header-anchor">#</a> Step 5: Enable git gateway</h3> <p><img src="/assets/img/enable-git-gateway.9d7d2891.png" alt="Enable git gateway"></p> <h3 id="step-6-enable-identity"><a href="#step-6-enable-identity" aria-hidden="true" class="header-anchor">#</a> Step 6: Enable identity</h3> <p><img src="/assets/img/enable-identity.877b891e.png" alt="Enable identity"></p> <p>If you want to have client's member as editor in Nettlify CMS, send invitaion by</p> <h3 id="step-7-invite-user"><a href="#step-7-invite-user" aria-hidden="true" class="header-anchor">#</a> Step 7: Invite user</h3> <p><img src="/assets/img/invite-user-1.24140967.png" alt="Invite User step 1"></p> <p><img src="/assets/img/invite-user-2.5454865b.png" alt="Invite User step 2"></p></div></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.88e52c6f.js" defer></script><script src="/assets/js/3.4d62a7a5.js" defer></script><script src="/assets/js/1.cf387c24.js" defer></script><script src="/assets/js/8.0fdf80f0.js" defer></script>
  </body>
</html>
